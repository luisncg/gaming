<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Burger Cat Game | luisncg</title>
    <!-- Use the same styles from your main site -->
    <style>
        /* Core styles from main site for consistency */
        :root {
            --bg-color: #0f0f1e;
            --text-color: #ffffff;
            --accent1: #ff3e6c;
            --accent2: #4d7cff;
            --accent3: #6ee7b7;
            --card-bg: rgba(30, 30, 60, 0.6);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: var(--transition);
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            overflow: hidden; /* Prevent any scrolling on the body */
            position: fixed;
            width: 100%;
            height: 100%;
        }

        /* Header styles */
        header {
            padding: 0.5rem 1rem;
            text-align: center;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 10;
            background-color: rgba(15, 15, 30, 0.5);
            backdrop-filter: blur(5px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: opacity 0.3s ease;
        }
        
        header:hover {
            opacity: 1;
        }
        
        header.fade {
            opacity: 0.3;
        }
        
        .name {
            font-size: 1.5rem;
            font-weight: 800;
            background: linear-gradient(to right, var(--accent1), var(--accent2), var(--accent3));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .nav-link {
            color: white;
            text-decoration: none;
            margin-left: 0.5rem;
            padding: 0.3rem 0.8rem;
            border-radius: 50px;
            font-size: 0.8rem;
            background: var(--card-bg);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .nav-link:hover {
            background: rgba(50, 50, 100, 0.7);
            transform: translateY(-2px);
        }

        /* Game container styles */
        .game-container {
            width: 100%;
            height: 100vh; /* Full height */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start; /* Align to top */
            position: relative;
            overflow: hidden; /* Prevent scrolling */
            padding: 0; /* Remove all padding */
            margin: 0; /* Remove all margins */
            background-color: var(--bg-color); /* Match background color */
        }
        
        .game-frame {
            width: 100%;
            height: 100%; /* Full height initially */
            border: none;
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            object-fit: cover; /* Cover the container */
        }
        
        /* Style for mobile devices */
        @media (max-width: 768px) {
            .game-frame {
                /* Mobile-specific iframe styling managed by JavaScript */
            }
            
            /* Hide scrollbars on mobile */
            ::-webkit-scrollbar {
                display: none;
            }
            
            body {
                -ms-overflow-style: none;
                scrollbar-width: none;
            }
        }
        
        .game-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 15, 30, 0.7);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10;
            transition: opacity 0.5s ease;
        }
        
        .game-title {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--accent3);
            text-shadow: 0 0 10px rgba(0,0,0,0.5);
        }
        
        .start-button {
            padding: 1rem 2rem;
            font-size: 1.2rem;
            background: linear-gradient(45deg, var(--accent1), var(--accent2));
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        
        .start-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
        }
        
        .hidden {
            opacity: 0;
            pointer-events: none;
        }

        /* Animated cat silhouette */
        .cat-silhouette {
            position: absolute;
            bottom: 20px;
            right: 30px;
            width: 100px;
            height: 80px;
            opacity: 0.6;
            animation: float 6s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(5deg); }
        }

        /* Burger icon */
        .burger {
            position: absolute;
            width: 40px;
            height: 40px;
            opacity: 0.8;
        }

        .burger:nth-child(1) {
            top: 20%;
            left: 15%;
            animation: spin 8s infinite linear;
        }

        .burger:nth-child(2) {
            top: 30%;
            right: 20%;
            animation: spin 10s infinite linear reverse;
        }

        .burger:nth-child(3) {
            bottom: 25%;
            left: 30%;
            animation: spin 7s infinite linear;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Simple Header with Navigation -->
    <header>
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <a href="/" style="text-decoration: none;">
                <h1 class="name">luisncg</h1>
            </a>
            <nav>
                <a href="/" class="nav-link">home</a>
                <a href="/#projects" class="nav-link">projects</a>
                <a href="/#fun" class="nav-link">fun</a>
            </nav>
        </div>
    </header>

    <!-- Game Portal Container -->
    <div class="game-container" id="game-container">
        <!-- Game iframe - Initially blank -->
        <iframe src="about:blank" id="game-frame" class="game-frame" title="Burger Cat Game" allow="autoplay; fullscreen; gamepad"></iframe>
    </div>

    <script>
        // Game loading and interaction script
        document.addEventListener('DOMContentLoaded', function() {
            const gameContainer = document.getElementById('game-container');
            const gameFrame = document.getElementById('game-frame');
            const header = document.querySelector('header');
            
            // Make header fade after 3 seconds
            setTimeout(function() {
                header.classList.add('fade');
            }, 3000);
            
            // Show header on hover
            header.addEventListener('mouseenter', function() {
                header.classList.remove('fade');
            });
            
            // Hide header when mouse leaves
            header.addEventListener('mouseleave', function() {
                header.classList.add('fade');
            });
            
            // Hide header when game is clicked
            gameContainer.addEventListener('click', function() {
                header.classList.add('fade');
            });
            
            let overlay;
            let startButton;
            
            // Function to create overlay if needed (only used for pause functionality)
            function createOverlay() {
                // Create the overlay element
                overlay = document.createElement('div');
                overlay.id = 'game-overlay';
                overlay.className = 'game-overlay';
                
                // Add title
                const title = document.createElement('h2');
                title.className = 'game-title';
                title.textContent = 'Burger Cat Adventure';
                overlay.appendChild(title);
                
                // Add description
                const description = document.createElement('p');
                description.style = 'margin-bottom: 2rem; max-width: 600px; text-align: center;';
                description.textContent = 'Help the cat collect delicious burgers while avoiding the dangerous shower heads!';
                overlay.appendChild(description);
                
                // Add resume button
                startButton = document.createElement('button');
                startButton.id = 'start-game';
                startButton.className = 'start-button';
                startButton.textContent = 'Resume Game';
                overlay.appendChild(startButton);
                
                // Add decorative elements
                for (let i = 0; i < 3; i++) {
                    const burger = document.createElement('div');
                    burger.className = 'burger';
                    burger.textContent = '🍔';
                    overlay.appendChild(burger);
                }
                
                const cat = document.createElement('div');
                cat.className = 'cat-silhouette';
                cat.textContent = '🐱';
                overlay.appendChild(cat);
                
                // Add overlay to container
                gameContainer.appendChild(overlay);
                
                // Add click listener to resume button
                startButton.addEventListener('click', function() {
                    // Hide the overlay
                    overlay.classList.add('hidden');
                    startButton.disabled = false;
                    // Focus the game iframe when resuming
                    gameFrame.focus();
                });
                
                return overlay;
            }
            
            // Load the game immediately on page load
            gameFrame.src = 'https://luisncg.github.io/gaming';
            
            // Auto-focus the iframe when the game loads
            gameFrame.onload = function() {
                // Add a slight delay to ensure the game is fully loaded
                setTimeout(function() {
                    gameFrame.focus();
                    
                    // Fix for mobile: ensure the page is scrolled to show all controls
                    window.scrollTo(0, 0);
                    document.body.style.height = '100%';
                    document.body.style.overflow = 'hidden';
                    document.documentElement.style.overflow = 'hidden'; 
                    document.documentElement.style.height = '100%';
                    document.body.style.position = 'fixed';
                    document.body.style.width = '100%';
                    
                    // Apply mobile-specific adjustments 
                    function applyMobileLayoutFix() {
                        // Get dimensions
                        const viewportHeight = window.innerHeight;
                        const viewportWidth = window.innerWidth;
                        const isMobile = viewportWidth <= 768;
                        
                        // First remove any existing adjustments
                        if (document.getElementById('controls-spacer')) {
                            document.getElementById('controls-spacer').remove();
                        }
                        
                        // Reset iframe style to default full size
                        gameFrame.style.height = '100%';
                        gameFrame.style.width = '100%';
                        gameFrame.style.bottom = '0';
                        gameFrame.style.top = '0';
                        gameFrame.style.transform = 'none';
                        gameFrame.style.objectFit = 'cover';
                        
                        // For mobile devices, create a controlled iframe container
                        if (isMobile) {
                            // Calculate optimal size - the black bar occurs because the game 
                            // has a fixed aspect ratio that doesn't match the mobile screen
                            const controlsHeight = 70; // Height reserved for game controls
                            
                            // Create a colored element that matches the background exactly
                            const controlsArea = document.createElement('div');
                            controlsArea.id = 'controls-spacer';
                            controlsArea.style = `
                                position: absolute;
                                bottom: 0;
                                left: 0;
                                width: 100%;
                                height: ${controlsHeight}px;
                                background-color: ${getComputedStyle(document.documentElement).getPropertyValue('--bg-color')};
                                z-index: 2;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                            `;
                            
                            // Add a small hint in the spacer to guide users
                            const touchHint = document.createElement('div');
                            touchHint.textContent = "Touch controls area";
                            touchHint.style = `
                                color: rgba(255,255,255,0.3);
                                font-size: 12px;
                                font-style: italic;
                            `;
                            controlsArea.appendChild(touchHint);
                            gameContainer.appendChild(controlsArea);
                            
                            // Adjust frame size to account for controls
                            gameFrame.style.height = `calc(100% - ${controlsHeight}px)`;
                            gameFrame.style.bottom = `${controlsHeight}px`;
                            
                            // Also fix common iframe scaling issues on mobile
                            gameFrame.style.transformOrigin = 'top center';
                            
                            // Force redraw to prevent flickering
                            gameContainer.style.transform = 'translateZ(0)';
                            gameFrame.style.transform = 'translateZ(0)';
                            
                            // Add data attributes to help with debugging
                            gameFrame.dataset.mobileAdjusted = 'true';
                            gameFrame.dataset.controlsHeight = controlsHeight;
                        }
                    }
                    
                    // Apply the layout fix
                    applyMobileLayoutFix();
                    
                    // Update on resize and orientation change
                    window.addEventListener('resize', applyMobileLayoutFix);
                    window.addEventListener('orientationchange', function() {
                        // Delay the fix to ensure dimensions have updated after orientation change
                        setTimeout(applyMobileLayoutFix, 100);
                    });
                    
                    // Try to prevent pull-to-refresh and other mobile gestures
                    document.body.addEventListener('touchmove', function(e) {
                        e.preventDefault();
                    }, { passive: false });
                    
                    // Ensure header doesn't push content down
                    document.querySelector('header').style.position = 'fixed';
                    document.querySelector('header').style.zIndex = '999';
                    
                    console.log('Game frame focused and mobile optimizations applied');
                }, 500);
            };
            
            // Add a visible instruction for mobile devices
            const mobileInstructions = document.createElement('div');
            mobileInstructions.style = `
                position: fixed; 
                bottom: 20px; 
                left: 50%; 
                transform: translateX(-50%);
                background: rgba(0,0,0,0.7); 
                padding: 10px 20px; 
                border-radius: 20px;
                font-size: 14px;
                z-index: 5;
                pointer-events: none;
                opacity: 0;
                transition: opacity 1.5s ease;
            `;
            mobileInstructions.textContent = "Tap screen once if controls don't respond";
            document.body.appendChild(mobileInstructions);
            
            // Show the instructions briefly after the game loads
            setTimeout(function() {
                mobileInstructions.style.opacity = "1";
                setTimeout(function() {
                    mobileInstructions.style.opacity = "0";
                }, 4000);
            }, 2000);
            
            // Also focus when clicking anywhere on the document
            document.addEventListener('click', function() {
                if (!overlay || overlay.classList.contains('hidden')) {
                    gameFrame.focus();
                }
            });

            // Add escape key to show overlay/pause game
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    if (!overlay) {
                        // Create overlay if it doesn't exist
                        overlay = createOverlay();
                        startButton = overlay.querySelector('#start-game');
                    } else if (overlay.classList.contains('hidden')) {
                        // Show overlay if it's hidden
                        overlay.classList.remove('hidden');
                        startButton.disabled = false;
                    }
                }
            });
        });
    </script>
</body>
</html> 
